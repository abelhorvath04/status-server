server:
  port: 9000

spring:
  application:
    name: api-gateway
  cloud:
    gateway:
    discovery:
      locator:
        enabled: true
      routes:
        - id: client
          uri: lb://CLIENT/status
          predicates:
            - Path=/status/**
        - id: status-service
          uri: lb://STATUS-SERVICE
          predicates:
            - Path=/status-websocket/**
    globalcors:
      cors-configurations:
        "[/**]":
          allowedOrigins: "*"
          allowedMethods: GET, POST, PUT, DELETE, OPTIONS
          allowedHeaders: "*"
          allowCredentials: true
    loadbalancer:
      config:
        instances:
          backend:
            - uri: lb://STATUS-SERVICE
      retry:
        enabled: true
    inetutils:
      preferred-networks:
        - 127.0.0.1
eureka:
  client:
    instance:
      hostname: eureka-server
    serviceUrl:
      defaultZone: http://eureka-server:8761/eureka/
      register-with-eureka: true
      fetch-registry: true
    registry-fetch-interval-seconds: 30

management:
  endpoints:
    web:
      exposure:
        include: "*"
